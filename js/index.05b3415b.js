(function(e){function t(t){for(var o,a,l=t[0],c=t[1],u=t[2],f=0,d=[];f<l.length;f++)a=l[f],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);s&&s(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],o=!0,l=1;l<r.length;l++){var c=r[l];0!==n[c]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var o={},n={index:0},i=[];function a(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=o,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/noise/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("ffb4")},"00bc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;class o{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}t.Deferred=o},"2ff9":function(e,t,r){"use strict";r.r(t);var o=r("dced"),n=r("cc26");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);var a=r("2877"),l=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=l.exports},"38c8":function(e,t,r){},"3a0b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAuthorization=t.isAuthenticated=t.getAuthorization=void 0;const o=r("2b0e"),n=o.default.observable({authorization:null});t.getAuthorization=()=>n.authorization,t.isAuthenticated=()=>!!n.authorization,t.setAuthorization=e=>n.authorization=e},"40e1":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteGlobalProperty=t.hasGlobalProperty=t.setGlobalProperty=t.getGlobalProperty=t.Global=void 0,function(e){e["ImplicitGrantDeferred"]="__GLOBAL_SPOTIFY_IMPLICIT_GRANT_DEFERRED__",e["ImplicitGrantState"]="__GLOBAL_SPOTIFY_IMPLICIT_GRANT_STATE__"}(t.Global||(t.Global={})),t.getGlobalProperty=(e,t=globalThis)=>t[e],t.setGlobalProperty=(e,t,r=globalThis)=>r[e]=t,t.hasGlobalProperty=(e,t=globalThis)=>e in t,t.deleteGlobalProperty=(e,t=globalThis)=>delete t[e]},"57c3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProfile=void 0;const o=r("3a0b"),n=async e=>{const t="https://api.spotify.com/v1"+e,r=o.getAuthorization(),n=await fetch(t,{headers:{authorization:r}});if(!n.ok)throw new Error;const i=await n.json();return i};t.getProfile=async()=>n("/me")},"5bd0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpotifyAccessToken=t.getSpotifyAuthenticationUrl=void 0;const o=r("00bc"),n=r("40e1"),i=r("6cb0");t.getSpotifyAuthenticationUrl=e=>{const t=new URL("https://accounts.spotify.com/authorize");return t.searchParams.set("client_id","c98c0dd8395e4bbdb4195e94963aeb23"),t.searchParams.set("response_type","token"),t.searchParams.set("redirect_uri",location.origin+location.pathname+"callback"),t.searchParams.set("state",e),t.searchParams.set("scope","user-library-read user-top-read"),t.href},t.getSpotifyAccessToken=async()=>{if(n.hasGlobalProperty(n.Global.ImplicitGrantDeferred))return n.getGlobalProperty(n.Global.ImplicitGrantDeferred).promise;const e=n.setGlobalProperty(n.Global.ImplicitGrantDeferred,new o.Deferred),r=n.setGlobalProperty(n.Global.ImplicitGrantState,i.random(96)),a=window.open(t.getSpotifyAuthenticationUrl(r),"Login with Spotify","width=600,height=800");a||e.reject(new Error("Please enable pop-up windows."));try{return await e.promise}finally{n.deleteGlobalProperty(n.Global.ImplicitGrantDeferred),n.deleteGlobalProperty(n.Global.ImplicitGrantState)}}},"5f86":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.router=void 0;const o=r("2b0e"),n=r("8c4f"),i=r("3a0b"),a=r("5bd0");o.default.use(n.default),t.router=new n.default({routes:[{path:"/",redirect:"/landing"},{path:"/login",beforeEnter:(e,t,r)=>{a.getSpotifyAccessToken().then(i.setAuthorization).then(()=>r(e.query.redirect||"/")).catch(()=>r("/"))}},{path:"/landing",component:()=>Promise.resolve().then(()=>r("eabb"))},{path:"/profile",component:()=>Promise.resolve().then(()=>r("2ff9")),meta:{authentication:!0}}]}),t.router.beforeEach((e,t,r)=>{e.meta.authentication&&!i.isAuthenticated()?r({path:"/login",query:{redirect:e.path}}):r()})},"6cb0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.random=void 0,t.random=e=>{const t=new Uint8Array(e/2);return crypto.getRandomValues(t),t.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}},"7c56":function(e,t,r){},cc26:function(e,t,r){"use strict";r.r(t);var o=r("ee13"),n=r.n(o);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},d275:function(e,t,r){"use strict";var o=r("7c56"),n=r.n(o);n.a},dced:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.username)+" ")])},n=[]},eabb:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",[r("h1",[e._v(" noise ")]),r("router-link",{attrs:{to:{path:"/login",query:{redirect:"/profile"}}}},[e._v(" Login with Spotify ")])],1)},n=[],i=(r("d275"),r("2877")),a={},l=Object(i["a"])(a,o,n,!1,null,"59265aa5",null);t["default"]=l.exports},ee13:function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0});const n=r("2b0e"),i=r("2fe1"),a=r("57c3");let l=(()=>{let e=class extends n.default{constructor(){super(...arguments),this.username=null}async mounted(){const e=await a.getProfile();this.username=e.display_name}};return e=o([i.default],e),e})();t.default=l},ffb4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r("f5df");const o=r("2b0e"),n=r("5f86");r("38c8");const i=new o.default({router:n.router,render:e=>e("body",[e("router-view")])});addEventListener("load",()=>i.$mount(document.body))}});